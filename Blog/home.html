<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Title</title>
  <style>
    /* Reset */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html, body {
      height: 100%;
      overflow: hidden; /* 全体はスクロールなし */
      -webkit-touch-callout: none; /* iOSでの長押しメニュー禁止 */
      -webkit-user-select: none; /* iOS Safariでの選択禁止 */
      user-select: none;
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      background: #0b0b0b;
      color: #eee;
      position: relative;
    }

    body {
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    header {
      padding: 24px 20px;
      text-align: center;
      font-size: 32px;
      font-weight: 700;
      letter-spacing: 1.2px;
      color: #f9c74f;
      text-shadow: 0 0 10px #f9c74f88;
      flex-shrink: 0;
    }

    main {
      flex-grow: 1;
      max-width: 960px;
      margin: 0 auto 60px;
      padding: 0 20px;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 36px;
      position: relative;
      z-index: 1; /* 波紋より前面 */
      overflow-y: auto; /* main内は縦スクロール可能 */
      scrollbar-width: thin;
      scrollbar-color: #f9c74f33 transparent;
    }

    main::-webkit-scrollbar {
      width: 8px;
    }
    main::-webkit-scrollbar-thumb {
      background-color: #f9c74f33;
      border-radius: 4px;
    }

    .card {
      background: #1a1a1add;
      border-radius: 14px;
      box-shadow: 0 0 12px #f9c74f33;
      padding: 28px 24px;
      cursor: pointer;
      color: #aaddff;
      font-weight: 600;
      font-size: 22px;
      text-align: center;
      transition:
        transform 0.3s cubic-bezier(0.4,0,0.2,1),
        box-shadow 0.3s ease,
        background-color 0.3s ease;
      position: relative;
      overflow: hidden;
      user-select: none;
    }

    .card::before {
      content: "";
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle at center, #f9c74f44, transparent 80%);
      opacity: 0;
      transition: opacity 0.5s ease;
      z-index: 0;
      pointer-events: none;
    }

    .card:hover::before {
      opacity: 1;
      animation: pulseGlow 1.5s infinite alternate ease-in-out;
    }

    @keyframes pulseGlow {
      0% {
        transform: scale(1);
        opacity: 0.3;
      }
      100% {
        transform: scale(1.1);
        opacity: 0.6;
      }
    }

    .card:hover {
      background-color: #f9c74f22;
      box-shadow: 0 0 24px #f9c74faa;
      transform: translateY(-10px) scale(1.05);
      color: #fff;
      z-index: 1;
    }

    a.card-link {
      display: block;
      color: inherit;
      text-decoration: none;
      position: relative;
      z-index: 1;
    }

    footer {
      text-align: center;
      color: #666;
      font-size: 14px;
      padding: 20px 0 40px;
      user-select: none;
      position: relative;
      z-index: 1;
      flex-shrink: 0;
    }

    /* 波紋用キャンバス */
    #ripple-canvas {
      position: fixed;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      pointer-events: none;
      z-index: 0;
    }

    @media (max-width: 480px) {
      header {
        font-size: 24px;
      }

      .card {
        font-size: 18px;
        padding: 20px 18px;
      }
    }
  </style>
</head>
<body>
  <header>Title</header>

  <main id="main-container">
    <!-- JavaScriptでここにリンクカードを生成 -->
  </main>

  <footer>&copy; 2025 Title</footer>

  <canvas id="ripple-canvas"></canvas>

  <script>
    // サイトリンクデータ
    const sitelist = [
      {name: "Fourier", href: "./Fourier/home"},
      {name: "Zeta", href: "./Zeta/home"},
      {name: "Quantum", href: "./Quantum/home"},
      {name: "Relativity", href: "./Relativity/home"},
    ];

    const main = document.getElementById("main-container");

    // リンクカード生成
    sitelist.forEach(site => {
      const a = document.createElement("a");
      a.href = site.href;
      a.className = "card-link";
      a.setAttribute("aria-label", site.name);

      const div = document.createElement("div");
      div.className = "card";
      div.textContent = site.name;

      a.appendChild(div);
      main.appendChild(a);
    });


    // 波紋アニメーション処理
    const canvas = document.getElementById("ripple-canvas");
    const ctx = canvas.getContext("2d");
    let width, height;
    let ripples = [];

    // リサイズ対応
    function resize() {
      width = window.innerWidth;
      height = window.innerHeight;
      canvas.width = width * devicePixelRatio;
      canvas.height = height * devicePixelRatio;
      canvas.style.width = width + "px";
      canvas.style.height = height + "px";
      ctx.setTransform(1, 0, 0, 1, 0, 0);
      ctx.scale(devicePixelRatio, devicePixelRatio);
    }
    resize();
    window.addEventListener("resize", resize);

    // 波紋クラス
    class Ripple {
      constructor(x, y) {
        this.x = x;
        this.y = y;
        this.radius = 0;
        this.maxRadius = 150;
        this.opacity = 0.6;
        this.growthRate = 3 + Math.random() * 1.5;
      }
      update() {
        this.radius += this.growthRate;
        this.opacity -= 0.008;
      }
      draw(ctx) {
        if (this.opacity <= 0) return;
        ctx.beginPath();
        const gradient = ctx.createRadialGradient(
          this.x, this.y, this.radius * 0.6,
          this.x, this.y, this.radius
        );
        gradient.addColorStop(0, `rgba(249, 199, 79, ${this.opacity})`);
        gradient.addColorStop(1, `rgba(249, 199, 79, 0)`);
        ctx.fillStyle = gradient;
        ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
        ctx.fill();
      }
      isDead() {
        return this.opacity <= 0;
      }
    }

    // クリック・タッチ時に波紋追加
    function addRipple(x, y) {
      ripples.push(new Ripple(x, y));
    }

    // アニメーションループ
    function animate() {
      ctx.clearRect(0, 0, width, height);
      ripples.forEach((ripple, i) => {
        ripple.update();
        ripple.draw(ctx);
        if (ripple.isDead()) ripples.splice(i, 1);
      });
      requestAnimationFrame(animate);
    }
    animate();

    // イベントリスナー（クリック＆タッチ）
    window.addEventListener("click", e => {
      addRipple(e.clientX, e.clientY);
    });

    window.addEventListener("touchstart", e => {
      if (e.touches.length > 0) {
        const touch = e.touches[0];
        addRipple(touch.clientX, touch.clientY);
      }
    });
  </script>
</body>
</html>
